{"openapi":"3.0.0","info":{"title":"Yulu Employee Issue Management System API","version":"1.0.0","description":"Comprehensive API documentation for Yulu Employee Issue Management System","contact":{"name":"API Support","email":"support@yulu.bike"},"license":{"name":"Private","url":"#"}},"servers":[{"url":"http://localhost:5000","description":"Development server"},{"url":"https://api.yulu.bike","description":"Production server"}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"JWT Authorization header using the Bearer scheme."}},"schemas":{"Error":{"type":"object","properties":{"error":{"type":"string","description":"Error message"},"details":{"type":"object","description":"Additional error details"}}},"Success":{"type":"object","properties":{"message":{"type":"string","description":"Success message"}}},"Employee":{"type":"object","properties":{"id":{"type":"integer","example":1},"name":{"type":"string","example":"John Doe"},"email":{"type":"string","format":"email","example":"john.doe@yulu.bike"},"phone":{"type":"string","example":"9876543210"},"empId":{"type":"string","example":"YUL001"},"city":{"type":"string","example":"Bangalore"},"cluster":{"type":"string","example":"CBD"},"manager":{"type":"string","example":"Jane Smith"},"role":{"type":"string","example":"Mechanic"},"dateOfJoining":{"type":"string","format":"date","example":"2023-01-15"},"bloodGroup":{"type":"string","example":"B+"},"dateOfBirth":{"type":"string","format":"date","example":"1990-05-20"},"accountNumber":{"type":"string","example":"1234567890"},"ifscCode":{"type":"string","example":"SBIN0001234"},"userId":{"type":"integer","example":12345},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"CreateEmployee":{"type":"object","required":["name","email","phone","empId","password","city","role"],"properties":{"name":{"type":"string"},"email":{"type":"string","format":"email"},"phone":{"type":"string"},"empId":{"type":"string"},"password":{"type":"string"},"city":{"type":"string"},"cluster":{"type":"string"},"manager":{"type":"string"},"role":{"type":"string"},"dateOfJoining":{"type":"string","format":"date"},"bloodGroup":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"accountNumber":{"type":"string"},"ifscCode":{"type":"string"},"userId":{"type":"integer"}}},"UpdateEmployee":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string","format":"email"},"phone":{"type":"string"},"city":{"type":"string"},"cluster":{"type":"string"},"manager":{"type":"string"},"role":{"type":"string"},"bloodGroup":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"accountNumber":{"type":"string"},"ifscCode":{"type":"string"}}},"DashboardUser":{"type":"object","properties":{"id":{"type":"integer","example":6},"name":{"type":"string","example":"sagar K M"},"email":{"type":"string","format":"email","example":"sagar.km@yulu.bike"},"city":{"type":"string","example":"Bangalore"},"role":{"type":"string","example":"Super Admin"},"isActive":{"type":"boolean","example":true},"emailVerified":{"type":"boolean","example":true},"department":{"type":"string","example":"IT","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"CreateDashboardUser":{"type":"object","required":["name","email","password","city","role"],"properties":{"name":{"type":"string"},"email":{"type":"string","format":"email"},"password":{"type":"string","format":"password","minLength":8},"city":{"type":"string"},"role":{"type":"string"},"department":{"type":"string","nullable":true}}},"UpdateDashboardUser":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string","format":"email"},"city":{"type":"string"},"role":{"type":"string"},"isActive":{"type":"boolean"},"department":{"type":"string","nullable":true}}},"Issue":{"type":"object","properties":{"id":{"type":"integer","example":1},"employeeId":{"type":"integer","example":8},"typeId":{"type":"string","example":"salary"},"subTypeId":{"type":"string","example":"increment"},"description":{"type":"string","example":"Request for salary increment"},"status":{"type":"string","enum":["open","in_progress","resolved","closed"],"example":"open"},"priority":{"type":"string","enum":["low","medium","high","critical"],"example":"medium"},"assignedTo":{"type":"integer","example":6},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"closedAt":{"type":"string","format":"date-time","nullable":true},"firstResponseAt":{"type":"string","format":"date-time","nullable":true},"resolvedAt":{"type":"string","format":"date-time","nullable":true},"slaBreached":{"type":"boolean","example":false},"comments":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}}}}},"CreateIssue":{"type":"object","required":["employeeId","typeId","subTypeId","description","priority"],"properties":{"employeeId":{"type":"integer"},"typeId":{"type":"string"},"subTypeId":{"type":"string"},"description":{"type":"string"},"priority":{"type":"string","enum":["low","medium","high","critical"]}}},"UpdateIssue":{"type":"object","properties":{"typeId":{"type":"string"},"subTypeId":{"type":"string"},"description":{"type":"string"},"status":{"type":"string","enum":["open","in_progress","resolved","closed"]},"priority":{"type":"string","enum":["low","medium","high","critical"]},"assignedTo":{"type":"integer"}}},"Holiday":{"type":"object","properties":{"id":{"type":"integer","example":1},"name":{"type":"string","example":"Republic Day"},"date":{"type":"string","format":"date","example":"2025-01-26"},"type":{"type":"string","enum":["government","restricted"],"example":"government"},"recurring":{"type":"boolean","example":true,"description":"Whether this holiday occurs every year"},"description":{"type":"string","example":"India Republic Day","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"CreateHoliday":{"type":"object","required":["name","date","type","recurring"],"properties":{"name":{"type":"string","example":"Independence Day"},"date":{"type":"string","format":"date","example":"2025-08-15"},"type":{"type":"string","enum":["government","restricted"],"example":"government"},"recurring":{"type":"boolean","example":true},"description":{"type":"string","example":"India's Independence Day","nullable":true}}},"UpdateHoliday":{"type":"object","properties":{"name":{"type":"string"},"date":{"type":"string","format":"date"},"type":{"type":"string","enum":["government","restricted"]},"recurring":{"type":"boolean"},"description":{"type":"string","nullable":true}}},"Comment":{"type":"object","properties":{"id":{"type":"integer","example":1},"issueId":{"type":"integer","example":5},"commenterId":{"type":"integer","example":6},"commenterType":{"type":"string","enum":["dashboard_user","employee"],"example":"dashboard_user"},"content":{"type":"string","example":"We are working on resolving this issue"},"isInternal":{"type":"boolean","example":false},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"commenter":{"type":"object","properties":{"name":{"type":"string","example":"sagar K M"},"email":{"type":"string","example":"sagar.km@yulu.bike"}}}}},"InternalComment":{"allOf":[{"$ref":"#/components/schemas/Comment"},{"type":"object","properties":{"isInternal":{"type":"boolean","enum":[true],"example":true}}}]},"SLAConfig":{"type":"object","properties":{"critical":{"type":"object","properties":{"responseTime":{"type":"integer","minimum":1},"resolutionTime":{"type":"integer","minimum":1}}},"high":{"type":"object","properties":{"responseTime":{"type":"integer"},"resolutionTime":{"type":"integer"}}},"medium":{"type":"object","properties":{"responseTime":{"type":"integer"},"resolutionTime":{"type":"integer"}}},"low":{"type":"object","properties":{"responseTime":{"type":"integer"},"resolutionTime":{"type":"integer"}}}}},"Role":{"type":"object","properties":{"id":{"type":"integer","example":1},"name":{"type":"string","example":"Super Admin"},"description":{"type":"string","example":"Full system access with all permissions"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"permissions":{"type":"array","items":{"$ref":"#/components/schemas/Permission"}}}},"Permission":{"type":"object","properties":{"id":{"type":"integer","example":1},"name":{"type":"string","example":"access:dashboard"},"description":{"type":"string","example":"Access to main dashboard"},"category":{"type":"string","example":"access"},"createdAt":{"type":"string","format":"date-time"}}},"MasterRole":{"type":"object","properties":{"id":{"type":"integer","example":1},"name":{"type":"string","example":"Mechanic"},"category":{"type":"string","enum":["employee","dashboard_user"],"example":"employee"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"MasterCity":{"type":"object","properties":{"id":{"type":"integer","example":1},"name":{"type":"string","example":"Bangalore"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"MasterCluster":{"type":"object","properties":{"id":{"type":"integer","example":1},"name":{"type":"string","example":"CBD"},"city":{"type":"string","example":"Bangalore"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"AuditLog":{"type":"object","properties":{"id":{"type":"integer"},"entityType":{"type":"string","enum":["role","city","cluster"]},"entityId":{"type":"integer"},"action":{"type":"string","enum":["create","update","delete"]},"oldValue":{"type":"object","nullable":true},"newValue":{"type":"object","nullable":true},"userId":{"type":"integer"},"userEmail":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"Feedback":{"type":"object","properties":{"id":{"type":"integer","example":1},"ticketId":{"type":"integer","example":5},"employeeId":{"type":"integer","example":8},"rating":{"type":"integer","minimum":1,"maximum":5,"example":4},"comment":{"type":"string","example":"Issue was resolved quickly and professionally"},"sentiment":{"type":"string","enum":["positive","neutral","negative"],"example":"positive"},"agentId":{"type":"integer","example":6,"nullable":true},"agentName":{"type":"string","example":"sagar K M","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"CreateFeedback":{"type":"object","required":["rating"],"properties":{"rating":{"type":"integer","minimum":1,"maximum":5,"example":4},"comment":{"type":"string","example":"Great support, thank you!","maxLength":1000}}},"UpdateFeedback":{"type":"object","properties":{"rating":{"type":"integer","minimum":1,"maximum":5},"comment":{"type":"string","maxLength":1000}}}},"responses":{"Unauthorized":{"description":"Unauthorized - Missing or invalid authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"Forbidden":{"description":"Forbidden - Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"NotFound":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"BadRequest":{"description":"Bad request - Invalid input","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"security":[{"bearerAuth":[]}],"paths":{"/api/auth/login":{"post":{"tags":["Authentication"],"summary":"Login for dashboard users and employees","description":"Unified login endpoint that automatically detects user type","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email","description":"User email address","example":"sagar.km@yulu.bike"},"password":{"type":"string","format":"password","description":"User password","example":"admin123"}}}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","description":"JWT authentication token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"user":{"type":"object","properties":{"id":{"type":"integer","example":6},"email":{"type":"string","example":"sagar.km@yulu.bike"},"name":{"type":"string","example":"sagar K M"},"role":{"type":"string","example":"Super Admin"},"userType":{"type":"string","enum":["dashboard_user","employee"],"example":"dashboard_user"}}}}}}}},"400":{"description":"Bad request - missing email or password","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Invalid credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/auth/mobile-verify":{"post":{"tags":["Authentication"],"summary":"Mobile employee verification","description":"Authenticate mobile app users with email and employee ID","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","empId"],"properties":{"email":{"type":"string","format":"email","description":"Employee email address","example":"chinnumalleshchinnu@gmail.com"},"empId":{"type":"string","description":"Employee ID","example":"XPH1884"}}}}}},"responses":{"200":{"description":"Verification successful","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","description":"JWT authentication token"},"user":{"type":"object","properties":{"id":{"type":"integer"},"email":{"type":"string"},"name":{"type":"string"},"empId":{"type":"string"},"userType":{"type":"string","example":"employee"}}}}}}}},"401":{"description":"Invalid credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/auth/verify":{"get":{"tags":["Authentication"],"summary":"Verify JWT token","description":"Verify the validity of a JWT token","parameters":[{"in":"header","name":"Authorization","required":true,"schema":{"type":"string","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}],"responses":{"200":{"description":"Token is valid","content":{"application/json":{"schema":{"type":"object","properties":{"valid":{"type":"boolean","example":true},"user":{"type":"object","properties":{"id":{"type":"integer"},"email":{"type":"string"},"userType":{"type":"string"}}}}}}}},"401":{"description":"Invalid or expired token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/auth/logout":{"post":{"tags":["Authentication"],"summary":"Logout user","description":"Logout current user (client-side token removal)","responses":{"200":{"description":"Logout successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Success"}}}}}}},"/api/employees":{"get":{"tags":["Employees"],"summary":"Get all employees","description":"Retrieve a list of all employees with optional filters","parameters":[{"in":"query","name":"search","schema":{"type":"string"},"description":"Search by name, email, phone, or employee ID"},{"in":"query","name":"city","schema":{"type":"string"},"description":"Filter by city"},{"in":"query","name":"role","schema":{"type":"string"},"description":"Filter by role"},{"in":"query","name":"cluster","schema":{"type":"string"},"description":"Filter by cluster"}],"responses":{"200":{"description":"List of employees","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Employee"}}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"403":{"$ref":"#/components/responses/Forbidden"}}},"post":{"tags":["Employees"],"summary":"Create new employee","description":"Create a new employee record","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEmployee"}}}},"responses":{"201":{"description":"Employee created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Employee"}}}},"400":{"$ref":"#/components/responses/BadRequest"},"401":{"$ref":"#/components/responses/Unauthorized"},"403":{"$ref":"#/components/responses/Forbidden"}}}},"/api/employees/bulk":{"post":{"tags":["Employees"],"summary":"Bulk create employees","description":"Create multiple employees at once","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"employees":{"type":"array","items":{"$ref":"#/components/schemas/CreateEmployee"}}}}}}},"responses":{"201":{"description":"Employees created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"created":{"type":"integer","description":"Number of employees created"},"failed":{"type":"integer","description":"Number of failed creations"},"errors":{"type":"array","items":{"type":"object","properties":{"row":{"type":"integer"},"error":{"type":"string"}}}}}}}}}}}},"/api/employees/{id}":{"get":{"tags":["Employees"],"summary":"Get employee by ID","description":"Retrieve a specific employee by their ID","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Employee ID"}],"responses":{"200":{"description":"Employee details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Employee"}}}},"404":{"$ref":"#/components/responses/NotFound"}}},"put":{"tags":["Employees"],"summary":"Update employee","description":"Update an existing employee's information","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Employee ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEmployee"}}}},"responses":{"200":{"description":"Employee updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Employee"}}}},"404":{"$ref":"#/components/responses/NotFound"}}},"delete":{"tags":["Employees"],"summary":"Delete employee","description":"Delete an employee record","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Employee ID"}],"responses":{"200":{"description":"Employee deleted successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Success"}}}},"404":{"$ref":"#/components/responses/NotFound"}}}},"/api/employee/profile":{"get":{"tags":["Employees"],"summary":"Get employee profile","description":"Get the logged-in employee's profile","responses":{"200":{"description":"Employee profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Employee"}}}},"401":{"$ref":"#/components/responses/Unauthorized"}}}},"/api/dashboard-users":{"get":{"tags":["Dashboard Users"],"summary":"Get all dashboard users","description":"Retrieve a list of all dashboard users with optional filters","parameters":[{"in":"query","name":"search","schema":{"type":"string"},"description":"Search by name or email"},{"in":"query","name":"city","schema":{"type":"string"},"description":"Filter by city"},{"in":"query","name":"role","schema":{"type":"string"},"description":"Filter by role"}],"responses":{"200":{"description":"List of dashboard users","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DashboardUser"}}}}}}},"post":{"tags":["Dashboard Users"],"summary":"Create new dashboard user","description":"Create a new dashboard user account","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDashboardUser"}}}},"responses":{"201":{"description":"Dashboard user created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardUser"}}}},"400":{"$ref":"#/components/responses/BadRequest"}}}},"/api/dashboard-users/bulk":{"post":{"tags":["Dashboard Users"],"summary":"Bulk create dashboard users","description":"Create multiple dashboard users at once","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"users":{"type":"array","items":{"$ref":"#/components/schemas/CreateDashboardUser"}}}}}}},"responses":{"201":{"description":"Dashboard users created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"created":{"type":"integer"},"failed":{"type":"integer"},"errors":{"type":"array","items":{"type":"object"}}}}}}}}}},"/api/dashboard-users/{id}":{"get":{"tags":["Dashboard Users"],"summary":"Get dashboard user by ID","description":"Retrieve a specific dashboard user by their ID","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Dashboard user ID"}],"responses":{"200":{"description":"Dashboard user details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardUser"}}}},"404":{"$ref":"#/components/responses/NotFound"}}},"put":{"tags":["Dashboard Users"],"summary":"Update dashboard user","description":"Update an existing dashboard user's information","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Dashboard user ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDashboardUser"}}}},"responses":{"200":{"description":"Dashboard user updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardUser"}}}},"404":{"$ref":"#/components/responses/NotFound"}}},"delete":{"tags":["Dashboard Users"],"summary":"Delete dashboard user","description":"Delete a dashboard user account","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Dashboard user ID"}],"responses":{"200":{"description":"Dashboard user deleted successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Success"}}}},"404":{"$ref":"#/components/responses/NotFound"}}}},"/api/dashboard-users/change-password":{"post":{"tags":["Dashboard Users"],"summary":"Change password","description":"Change password for the logged-in dashboard user","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["currentPassword","newPassword"],"properties":{"currentPassword":{"type":"string","format":"password"},"newPassword":{"type":"string","format":"password","minLength":8}}}}}},"responses":{"200":{"description":"Password changed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Success"}}}},"400":{"description":"Invalid current password"},"401":{"$ref":"#/components/responses/Unauthorized"}}}},"/api/issues":{"get":{"tags":["Issues"],"summary":"Get all issues","description":"Retrieve a list of issues with optional filters","parameters":[{"in":"query","name":"status","schema":{"type":"string","enum":["open","in_progress","resolved","closed"]},"description":"Filter by issue status"},{"in":"query","name":"priority","schema":{"type":"string","enum":["low","medium","high","critical"]},"description":"Filter by priority"},{"in":"query","name":"assignedTo","schema":{"type":"integer"},"description":"Filter by assigned user ID"},{"in":"query","name":"employeeId","schema":{"type":"integer"},"description":"Filter by employee ID"},{"in":"query","name":"startDate","schema":{"type":"string","format":"date"},"description":"Filter by start date"},{"in":"query","name":"endDate","schema":{"type":"string","format":"date"},"description":"Filter by end date"}],"responses":{"200":{"description":"List of issues","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Issue"}}}}}}},"post":{"tags":["Issues"],"summary":"Create new issue","description":"Create a new issue/ticket","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateIssue"}}}},"responses":{"201":{"description":"Issue created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Issue"}}}}}}},"/api/issues/{id}":{"get":{"tags":["Issues"],"summary":"Get issue by ID","description":"Retrieve a specific issue by its ID","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Issue ID"}],"responses":{"200":{"description":"Issue details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Issue"}}}},"404":{"$ref":"#/components/responses/NotFound"}}},"put":{"tags":["Issues"],"summary":"Update issue","description":"Update an existing issue","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Issue ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateIssue"}}}},"responses":{"200":{"description":"Issue updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Issue"}}}}}},"delete":{"tags":["Issues"],"summary":"Delete issue","description":"Delete an issue","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Issue ID"}],"responses":{"200":{"description":"Issue deleted successfully"}}}},"/api/issues/{id}/assign":{"put":{"tags":["Issues"],"summary":"Assign issue","description":"Assign an issue to a dashboard user","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Issue ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"assignedTo":{"type":"integer","description":"Dashboard user ID to assign to","example":6}}}}}},"responses":{"200":{"description":"Issue assigned successfully"}}}},"/api/issues/{id}/status":{"patch":{"tags":["Issues"],"summary":"Update issue status","description":"Update the status of an issue","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Issue ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["open","in_progress","resolved","closed"],"description":"New status"}}}}}},"responses":{"200":{"description":"Status updated successfully"}}}},"/api/issues/my/issues":{"get":{"tags":["Issues"],"summary":"Get my issues","description":"Get issues created by the logged-in employee","responses":{"200":{"description":"List of user's issues","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Issue"}}}}}}}},"/api/issues/assigned/me":{"get":{"tags":["Issues"],"summary":"Get assigned issues","description":"Get issues assigned to the logged-in dashboard user","responses":{"200":{"description":"List of assigned issues","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Issue"}}}}}}}},"/api/issues/stats":{"get":{"tags":["Issues"],"summary":"Get issue statistics","description":"Get statistics about issues","responses":{"200":{"description":"Issue statistics","content":{"application/json":{"schema":{"type":"object","properties":{"total":{"type":"integer"},"open":{"type":"integer"},"inProgress":{"type":"integer"},"resolved":{"type":"integer"},"closed":{"type":"integer"},"byPriority":{"type":"object","properties":{"low":{"type":"integer"},"medium":{"type":"integer"},"high":{"type":"integer"},"critical":{"type":"integer"}}}}}}}}}}},"/api/issues/count":{"get":{"tags":["Issues"],"summary":"Get issue count","description":"Get count of issues with optional filters","parameters":[{"in":"query","name":"status","schema":{"type":"string"},"description":"Filter by status"},{"in":"query","name":"priority","schema":{"type":"string"},"description":"Filter by priority"}],"responses":{"200":{"description":"Issue count","content":{"application/json":{"schema":{"type":"object","properties":{"count":{"type":"integer"}}}}}}}}},"/api/holidays":{"get":{"tags":["Holidays"],"summary":"Get all holidays","description":"Retrieve a list of all holidays","responses":{"200":{"description":"List of holidays","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Holiday"}}}}}}},"post":{"tags":["Holidays"],"summary":"Create new holiday","description":"Create a new holiday entry","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateHoliday"}}}},"responses":{"201":{"description":"Holiday created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Holiday"}}}},"400":{"$ref":"#/components/responses/BadRequest"}}}},"/api/holidays/bulk":{"post":{"tags":["Holidays"],"summary":"Bulk upload holidays","description":"Upload multiple holidays at once","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"holidays":{"type":"array","items":{"$ref":"#/components/schemas/CreateHoliday"}}}}}}},"responses":{"201":{"description":"Holidays created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Successfully created 11 holidays"},"holidays":{"type":"array","items":{"$ref":"#/components/schemas/Holiday"}}}}}}}}}},"/api/holidays/year/{year}":{"get":{"tags":["Holidays"],"summary":"Get holidays by year","description":"Retrieve holidays for a specific year","parameters":[{"in":"path","name":"year","required":true,"schema":{"type":"integer","minimum":1900,"maximum":2100},"description":"Year to get holidays for","example":2025}],"responses":{"200":{"description":"List of holidays for the specified year","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Holiday"}}}}},"400":{"description":"Invalid year provided"}}}},"/api/holidays/{id}":{"get":{"tags":["Holidays"],"summary":"Get holiday by ID","description":"Retrieve a specific holiday by its ID","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Holiday ID"}],"responses":{"200":{"description":"Holiday details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Holiday"}}}},"404":{"$ref":"#/components/responses/NotFound"}}},"put":{"tags":["Holidays"],"summary":"Update holiday","description":"Update an existing holiday","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Holiday ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHoliday"}}}},"responses":{"200":{"description":"Holiday updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Holiday"}}}},"404":{"$ref":"#/components/responses/NotFound"}}},"delete":{"tags":["Holidays"],"summary":"Delete holiday","description":"Delete a holiday","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Holiday ID"}],"responses":{"200":{"description":"Holiday deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Holiday deleted successfully"}}}}}},"404":{"$ref":"#/components/responses/NotFound"}}}},"/api/issues/{issueId}/comments":{"get":{"tags":["Comments"],"summary":"Get issue comments","description":"Retrieve all comments for a specific issue","parameters":[{"in":"path","name":"issueId","required":true,"schema":{"type":"integer"},"description":"Issue ID"}],"responses":{"200":{"description":"List of comments","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Comment"}}}}},"404":{"description":"Issue not found"}}},"post":{"tags":["Comments"],"summary":"Add comment to issue","description":"Add a new comment to an issue","parameters":[{"in":"path","name":"issueId","required":true,"schema":{"type":"integer"},"description":"Issue ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["content"],"properties":{"content":{"type":"string","description":"Comment content","example":"We are looking into this issue"}}}}}},"responses":{"201":{"description":"Comment added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Comment"}}}},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"description":"Issue not found"}}}},"/api/issues/{issueId}/internal-comments":{"get":{"tags":["Comments"],"summary":"Get internal comments","description":"Retrieve internal comments (visible only to dashboard users)","parameters":[{"in":"path","name":"issueId","required":true,"schema":{"type":"integer"},"description":"Issue ID"}],"responses":{"200":{"description":"List of internal comments","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InternalComment"}}}}},"403":{"$ref":"#/components/responses/Forbidden"}}},"post":{"tags":["Comments"],"summary":"Add internal comment","description":"Add an internal comment (visible only to dashboard users)","parameters":[{"in":"path","name":"issueId","required":true,"schema":{"type":"integer"},"description":"Issue ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["content"],"properties":{"content":{"type":"string","description":"Internal comment content"}}}}}},"responses":{"201":{"description":"Internal comment added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalComment"}}}},"403":{"$ref":"#/components/responses/Forbidden"}}}},"/api/comments/{id}":{"put":{"tags":["Comments"],"summary":"Update comment","description":"Update an existing comment","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Comment ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","description":"Updated comment content"}}}}}},"responses":{"200":{"description":"Comment updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Comment"}}}},"404":{"$ref":"#/components/responses/NotFound"}}},"delete":{"tags":["Comments"],"summary":"Delete comment","description":"Delete a comment","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Comment ID"}],"responses":{"200":{"description":"Comment deleted successfully"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/api/analytics/dashboard":{"get":{"tags":["Analytics"],"summary":"Get dashboard analytics","description":"Retrieve comprehensive dashboard analytics","parameters":[{"in":"query","name":"startDate","schema":{"type":"string","format":"date"},"description":"Start date for analytics"},{"in":"query","name":"endDate","schema":{"type":"string","format":"date"},"description":"End date for analytics"}],"responses":{"200":{"description":"Dashboard analytics data","content":{"application/json":{"schema":{"type":"object","properties":{"totalTickets":{"type":"integer","example":156},"openTickets":{"type":"integer","example":42},"resolvedTickets":{"type":"integer","example":98},"averageResolutionTime":{"type":"number","format":"float","example":24.5,"description":"Average resolution time in hours"},"ticketsByStatus":{"type":"object","properties":{"open":{"type":"integer"},"in_progress":{"type":"integer"},"resolved":{"type":"integer"},"closed":{"type":"integer"}}},"ticketsByPriority":{"type":"object","properties":{"low":{"type":"integer"},"medium":{"type":"integer"},"high":{"type":"integer"},"critical":{"type":"integer"}}}}}}}}}}},"/api/analytics/tickets-by-type":{"get":{"tags":["Analytics"],"summary":"Get tickets by type","description":"Analyze ticket distribution by type and subtype","responses":{"200":{"description":"Ticket distribution by type","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","example":"salary"},"count":{"type":"integer","example":45},"subtypes":{"type":"array","items":{"type":"object","properties":{"subtype":{"type":"string","example":"increment"},"count":{"type":"integer","example":20}}}}}}}}}}}}},"/api/analytics/tickets-by-city":{"get":{"tags":["Analytics"],"summary":"Get tickets by city","description":"Analyze ticket distribution by city","responses":{"200":{"description":"Ticket distribution by city","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"city":{"type":"string","example":"Bangalore"},"count":{"type":"integer","example":87}}}}}}}}}},"/api/analytics/agent-performance":{"get":{"tags":["Analytics"],"summary":"Get agent performance metrics","description":"Analyze performance metrics for dashboard users","parameters":[{"in":"query","name":"agentId","schema":{"type":"integer"},"description":"Filter by specific agent ID"},{"in":"query","name":"startDate","schema":{"type":"string","format":"date"}},{"in":"query","name":"endDate","schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Agent performance metrics","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"agentId":{"type":"integer"},"agentName":{"type":"string"},"ticketsResolved":{"type":"integer"},"averageResolutionTime":{"type":"number","format":"float"},"satisfactionScore":{"type":"number","format":"float"}}}}}}}}}},"/api/analytics/trends":{"get":{"tags":["Analytics"],"summary":"Get ticket trends","description":"Analyze ticket trends over time","parameters":[{"in":"query","name":"period","schema":{"type":"string","enum":["daily","weekly","monthly"]},"description":"Aggregation period"},{"in":"query","name":"startDate","schema":{"type":"string","format":"date"}},{"in":"query","name":"endDate","schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Ticket trends data","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"date":{"type":"string","format":"date"},"created":{"type":"integer"},"resolved":{"type":"integer"},"closed":{"type":"integer"}}}}}}}}}},"/api/analytics/export":{"post":{"tags":["Analytics"],"summary":"Export analytics data","description":"Export analytics data in various formats","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"format":{"type":"string","enum":["csv","excel","pdf"],"description":"Export format"},"reportType":{"type":"string","enum":["dashboard","tickets","agents","trends"],"description":"Type of report to export"},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"}}}}}},"responses":{"200":{"description":"Exported file","content":{"application/octet-stream":{"schema":{"type":"string","format":"binary"}},"text/csv":{"schema":{"type":"string"}}}}}}},"/api/sla/metrics":{"get":{"tags":["SLA"],"summary":"Get SLA metrics","description":"Retrieve SLA compliance metrics and TAT analysis","parameters":[{"in":"query","name":"startDate","schema":{"type":"string","format":"date"},"description":"Start date for metrics"},{"in":"query","name":"endDate","schema":{"type":"string","format":"date"},"description":"End date for metrics"},{"in":"query","name":"priority","schema":{"type":"string","enum":["low","medium","high","critical"]},"description":"Filter by priority"}],"responses":{"200":{"description":"SLA metrics","content":{"application/json":{"schema":{"type":"object","properties":{"overall":{"type":"object","properties":{"totalTickets":{"type":"integer","example":245},"slaCompliant":{"type":"integer","example":198},"slaBreached":{"type":"integer","example":47},"complianceRate":{"type":"number","format":"float","example":80.82,"description":"Compliance percentage"},"averageTAT":{"type":"number","format":"float","example":18.5,"description":"Average turn-around time in hours"}}},"byPriority":{"type":"array","items":{"type":"object","properties":{"priority":{"type":"string"},"slaTarget":{"type":"object","properties":{"responseTime":{"type":"integer","description":"Response time in hours"},"resolutionTime":{"type":"integer","description":"Resolution time in hours"}}},"metrics":{"type":"object","properties":{"totalTickets":{"type":"integer"},"compliant":{"type":"integer"},"breached":{"type":"integer"},"averageTAT":{"type":"number","format":"float"}}}}}}}}}}}}}},"/api/sla/alerts":{"get":{"tags":["SLA"],"summary":"Get SLA alerts","description":"Retrieve tickets at risk of breaching SLA","parameters":[{"in":"query","name":"threshold","schema":{"type":"integer","default":2},"description":"Hours before SLA breach to trigger alert"}],"responses":{"200":{"description":"SLA alerts","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"issueId":{"type":"integer"},"priority":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"timeRemaining":{"type":"number","format":"float","description":"Hours remaining before SLA breach"},"slaTarget":{"type":"integer","description":"SLA target hours"},"status":{"type":"string"},"assignedTo":{"type":"string","nullable":true}}}}}}}}}},"/api/sla/breaches":{"get":{"tags":["SLA"],"summary":"Get SLA breaches","description":"Retrieve list of tickets that breached SLA","parameters":[{"in":"query","name":"startDate","schema":{"type":"string","format":"date"}},{"in":"query","name":"endDate","schema":{"type":"string","format":"date"}},{"in":"query","name":"priority","schema":{"type":"string"}}],"responses":{"200":{"description":"SLA breaches","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"issueId":{"type":"integer"},"priority":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"breachedAt":{"type":"string","format":"date-time"},"breachDuration":{"type":"number","format":"float","description":"Hours exceeded beyond SLA"},"assignedTo":{"type":"string","nullable":true}}}}}}}}}},"/api/sla/config":{"get":{"tags":["SLA"],"summary":"Get SLA configuration","description":"Retrieve current SLA configuration by priority","responses":{"200":{"description":"SLA configuration","content":{"application/json":{"schema":{"type":"object","properties":{"critical":{"type":"object","properties":{"responseTime":{"type":"integer","example":1,"description":"Hours"},"resolutionTime":{"type":"integer","example":4,"description":"Hours"}}},"high":{"type":"object","properties":{"responseTime":{"type":"integer","example":2},"resolutionTime":{"type":"integer","example":8}}},"medium":{"type":"object","properties":{"responseTime":{"type":"integer","example":4},"resolutionTime":{"type":"integer","example":24}}},"low":{"type":"object","properties":{"responseTime":{"type":"integer","example":8},"resolutionTime":{"type":"integer","example":48}}}}}}}}}},"put":{"tags":["SLA"],"summary":"Update SLA configuration","description":"Update SLA targets for different priorities","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SLAConfig"}}}},"responses":{"200":{"description":"SLA configuration updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Success"}}}}}}},"/api/rbac/roles":{"get":{"tags":["RBAC"],"summary":"Get all roles","description":"Retrieve all RBAC roles","responses":{"200":{"description":"List of roles","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Role"}}}}}}},"post":{"tags":["RBAC"],"summary":"Create new role","description":"Create a new RBAC role","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","description"],"properties":{"name":{"type":"string","example":"Regional Manager"},"description":{"type":"string","example":"Manages operations for a specific region"}}}}}},"responses":{"201":{"description":"Role created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}}}}},"/api/rbac/roles/{id}":{"get":{"tags":["RBAC"],"summary":"Get role by ID","description":"Retrieve a specific role","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Role details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}}}},"put":{"tags":["RBAC"],"summary":"Update role","description":"Update an existing role","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}}}}},"responses":{"200":{"description":"Role updated successfully"}}},"delete":{"tags":["RBAC"],"summary":"Delete role","description":"Delete a role","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Role deleted successfully"}}}},"/api/rbac/permissions":{"get":{"tags":["RBAC"],"summary":"Get all permissions","description":"Retrieve all available permissions","responses":{"200":{"description":"List of permissions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Permission"}}}}}}}},"/api/rbac/roles/{roleId}/permissions":{"get":{"tags":["RBAC"],"summary":"Get role permissions","description":"Retrieve permissions for a specific role","parameters":[{"in":"path","name":"roleId","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Role permissions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Permission"}}}}}}},"put":{"tags":["RBAC"],"summary":"Update role permissions","description":"Update permissions for a role","parameters":[{"in":"path","name":"roleId","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"permissions":{"type":"array","items":{"type":"integer"},"description":"Array of permission IDs"}}}}}},"responses":{"200":{"description":"Permissions updated successfully"}}}},"/api/rbac/users/{userId}/roles":{"get":{"tags":["RBAC"],"summary":"Get user roles","description":"Retrieve roles assigned to a user","parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"User roles","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Role"}}}}}}},"put":{"tags":["RBAC"],"summary":"Assign roles to user","description":"Update roles assigned to a user","parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"roleIds":{"type":"array","items":{"type":"integer"},"description":"Array of role IDs to assign"}}}}}},"responses":{"200":{"description":"Roles assigned successfully"}}}},"/api/master-data/roles":{"get":{"tags":["Master Data"],"summary":"Get all master roles","description":"Retrieve all roles from master data","responses":{"200":{"description":"List of master roles","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MasterRole"}}}}}}},"post":{"tags":["Master Data"],"summary":"Create master role","description":"Create a new role in master data","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","category"],"properties":{"name":{"type":"string","example":"Field Supervisor"},"category":{"type":"string","enum":["employee","dashboard_user"],"example":"employee"}}}}}},"responses":{"201":{"description":"Role created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterRole"}}}}}}},"/api/master-data/roles/{id}":{"put":{"tags":["Master Data"],"summary":"Update master role","description":"Update an existing role","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"category":{"type":"string"}}}}}},"responses":{"200":{"description":"Role updated successfully"}}},"delete":{"tags":["Master Data"],"summary":"Delete master role","description":"Delete a role from master data","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Role deleted successfully"}}}},"/api/master-data/cities":{"get":{"tags":["Master Data"],"summary":"Get all cities","description":"Retrieve all cities from master data","responses":{"200":{"description":"List of cities","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MasterCity"}}}}}}},"post":{"tags":["Master Data"],"summary":"Create city","description":"Create a new city in master data","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string","example":"Chennai"}}}}}},"responses":{"201":{"description":"City created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterCity"}}}}}}},"/api/master-data/cities/{id}":{"put":{"tags":["Master Data"],"summary":"Update city","description":"Update an existing city","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"}}}}}},"responses":{"200":{"description":"City updated successfully"}}},"delete":{"tags":["Master Data"],"summary":"Delete city","description":"Delete a city from master data","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"City deleted successfully"}}}},"/api/master-data/clusters":{"get":{"tags":["Master Data"],"summary":"Get all clusters","description":"Retrieve all clusters from master data","parameters":[{"in":"query","name":"city","schema":{"type":"string"},"description":"Filter clusters by city"}],"responses":{"200":{"description":"List of clusters","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MasterCluster"}}}}}}},"post":{"tags":["Master Data"],"summary":"Create cluster","description":"Create a new cluster in master data","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","city"],"properties":{"name":{"type":"string","example":"HSR Layout"},"city":{"type":"string","example":"Bangalore"}}}}}},"responses":{"201":{"description":"Cluster created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterCluster"}}}}}}},"/api/master-data/clusters/{id}":{"put":{"tags":["Master Data"],"summary":"Update cluster","description":"Update an existing cluster","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"city":{"type":"string"}}}}}},"responses":{"200":{"description":"Cluster updated successfully"}}},"delete":{"tags":["Master Data"],"summary":"Delete cluster","description":"Delete a cluster from master data","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Cluster deleted successfully"}}}},"/api/master-data/audit-logs":{"get":{"tags":["Master Data"],"summary":"Get audit logs","description":"Retrieve audit logs for master data changes","parameters":[{"in":"query","name":"entityType","schema":{"type":"string","enum":["role","city","cluster"]},"description":"Filter by entity type"},{"in":"query","name":"action","schema":{"type":"string","enum":["create","update","delete"]},"description":"Filter by action"},{"in":"query","name":"limit","schema":{"type":"integer","default":50},"description":"Number of records to return"}],"responses":{"200":{"description":"List of audit logs","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AuditLog"}}}}}}}},"/api/tickets/{ticketId}/feedback":{"get":{"tags":["Feedback"],"summary":"Get ticket feedback","description":"Retrieve feedback for a specific ticket","parameters":[{"in":"path","name":"ticketId","required":true,"schema":{"type":"integer"},"description":"Ticket/Issue ID"}],"responses":{"200":{"description":"Feedback details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Feedback"}}}},"404":{"description":"Feedback not found"}}},"post":{"tags":["Feedback"],"summary":"Submit ticket feedback","description":"Submit feedback for a resolved ticket","parameters":[{"in":"path","name":"ticketId","required":true,"schema":{"type":"integer"},"description":"Ticket/Issue ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFeedback"}}}},"responses":{"201":{"description":"Feedback submitted successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Feedback"}}}},"400":{"description":"Invalid feedback or ticket not resolved"},"409":{"description":"Feedback already exists for this ticket"}}},"put":{"tags":["Feedback"],"summary":"Update ticket feedback","description":"Update existing feedback","parameters":[{"in":"path","name":"ticketId","required":true,"schema":{"type":"integer"},"description":"Ticket/Issue ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFeedback"}}}},"responses":{"200":{"description":"Feedback updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Feedback"}}}},"404":{"description":"Feedback not found"}}}},"/api/feedback/check/{ticketId}":{"get":{"tags":["Feedback"],"summary":"Check feedback existence","description":"Check if feedback exists for a ticket","parameters":[{"in":"path","name":"ticketId","required":true,"schema":{"type":"integer"},"description":"Ticket/Issue ID"}],"responses":{"200":{"description":"Feedback existence status","content":{"application/json":{"schema":{"type":"object","properties":{"exists":{"type":"boolean","example":true},"feedback":{"$ref":"#/components/schemas/Feedback"}}}}}}}}},"/api/feedback/analytics":{"get":{"tags":["Feedback"],"summary":"Get feedback analytics","description":"Retrieve feedback analytics and sentiment analysis","parameters":[{"in":"query","name":"startDate","schema":{"type":"string","format":"date"},"description":"Start date for analytics"},{"in":"query","name":"endDate","schema":{"type":"string","format":"date"},"description":"End date for analytics"},{"in":"query","name":"agentId","schema":{"type":"integer"},"description":"Filter by agent ID"},{"in":"query","name":"sentiment","schema":{"type":"string","enum":["positive","neutral","negative"]},"description":"Filter by sentiment"}],"responses":{"200":{"description":"Feedback analytics","content":{"application/json":{"schema":{"type":"object","properties":{"totalFeedback":{"type":"integer","example":342},"sentimentDistribution":{"type":"object","properties":{"positive":{"type":"integer","example":198},"neutral":{"type":"integer","example":89},"negative":{"type":"integer","example":55}}},"averageRating":{"type":"number","format":"float","example":4.2},"feedbackByAgent":{"type":"array","items":{"type":"object","properties":{"agentId":{"type":"integer"},"agentName":{"type":"string"},"totalFeedback":{"type":"integer"},"averageRating":{"type":"number","format":"float"},"sentimentBreakdown":{"type":"object"}}}}}}}}}}}},"/api/feedback/recent":{"get":{"tags":["Feedback"],"summary":"Get recent feedback","description":"Retrieve most recent feedback entries","parameters":[{"in":"query","name":"limit","schema":{"type":"integer","default":10,"maximum":100},"description":"Number of feedback entries to retrieve"}],"responses":{"200":{"description":"List of recent feedback","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Feedback"}}}}}}}},"/api/health":{"get":{"tags":["Health"],"summary":"Health check","description":"Basic health check endpoint","security":[],"responses":{"200":{"description":"System is healthy","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["healthy"],"example":"healthy"},"timestamp":{"type":"string","format":"date-time"}}}}}}}}},"/api/health/detailed":{"get":{"tags":["Health"],"summary":"Detailed health check","description":"Comprehensive system health check including database and services","responses":{"200":{"description":"Detailed health status","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["healthy","degraded","unhealthy"],"example":"healthy"},"uptime":{"type":"number","format":"float","description":"System uptime in seconds","example":3456.78},"timestamp":{"type":"string","format":"date-time"},"components":{"type":"object","properties":{"database":{"type":"object","properties":{"status":{"type":"string","enum":["up","down"],"example":"up"},"latency":{"type":"number","format":"float","description":"Database query latency in ms","example":2.5}}},"websocket":{"type":"object","properties":{"status":{"type":"string","enum":["up","down"],"example":"up"},"connections":{"type":"integer","description":"Active WebSocket connections","example":15}}},"memory":{"type":"object","properties":{"used":{"type":"integer","description":"Memory used in MB","example":256},"total":{"type":"integer","description":"Total memory in MB","example":1024},"percentage":{"type":"number","format":"float","example":25}}},"cpu":{"type":"object","properties":{"usage":{"type":"number","format":"float","description":"CPU usage percentage","example":15.5}}}}}}}}}}}}},"/api/health/ping":{"get":{"tags":["Health"],"summary":"Ping endpoint","description":"Simple ping endpoint for monitoring","security":[],"responses":{"200":{"description":"Pong response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","enum":["pong"],"example":"pong"},"timestamp":{"type":"string","format":"date-time"}}}}}}}}},"/api/health/database":{"get":{"tags":["Health"],"summary":"Database health check","description":"Check database connectivity and performance","responses":{"200":{"description":"Database is healthy","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["connected","disconnected"],"example":"connected"},"database":{"type":"string","example":"PostgreSQL"},"version":{"type":"string","example":14.5},"connectionPool":{"type":"object","properties":{"total":{"type":"integer","example":10},"active":{"type":"integer","example":3},"idle":{"type":"integer","example":7}}},"latency":{"type":"number","format":"float","description":"Query latency in milliseconds","example":1.5}}}}}},"500":{"description":"Database connection error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"disconnected"},"error":{"type":"string","example":"Unable to connect to database"}}}}}}}}},"/api/health/reset-password":{"post":{"tags":["Health"],"summary":"Reset admin password","description":"Reset admin password to default (development only)","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"type":"string","format":"email","example":"admin@yulu.com"}}}}}},"responses":{"200":{"description":"Password reset successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Password reset to admin123"}}}}}},"404":{"description":"User not found"},"503":{"description":"Feature disabled in production"}}}}},"tags":[{"name":"Authentication","description":"Authentication endpoints for dashboard users and employees"},{"name":"Employees","description":"Employee management endpoints"},{"name":"Dashboard Users","description":"Dashboard user management endpoints"},{"name":"Issues","description":"Issue/ticket management endpoints"},{"name":"Holidays","description":"Holiday management endpoints for SLA tracking"},{"name":"Comments","description":"Issue comment management endpoints"},{"name":"Analytics","description":"Analytics and reporting endpoints"},{"name":"SLA","description":"Service Level Agreement tracking endpoints"},{"name":"RBAC","description":"Role-Based Access Control management"},{"name":"Master Data","description":"Master data management endpoints"},{"name":"Feedback","description":"Ticket feedback management endpoints"},{"name":"Health","description":"System health check endpoints"}]}